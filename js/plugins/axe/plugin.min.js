"use strict";!function(r){r.plugins.add("axe",{lang:"en",init:function(e){var n=this,a=e.lang.axe;if(void 0!==e.config.axe){if(void 0!==e.config.axe.context&&(n.axe.context=e.config.axe.context),void 0!==e.config.axe.run){var t=n.axe.run.rules;n.axe.run=e.config.axe.run||{},n.axe.run.rules=t}"function"==typeof e.config.axe.callback&&(n.axe.callback=e.config.axe.callback),"string"==typeof e.config.axe.path&&(n.axe.path=e.config.axe.path)}"string"!=typeof n.axe.path&&(n.axe.path=n.axe._getPath()),e.ui.addButton("axe",{label:a.name,command:"axe",icon:n.path+"icons/axe.png",toolbar:"others"}),e.on("instanceReady",function(){var e=[n.axe.path,n.path+"frame.js"],a=this;e.forEach(function(e){a.document.getHead().append(a.document.createElement("script",{attributes:{src:e,type:"text/javascript",defer:!0}}))})}),e.addCommand("axe",{canUndo:!1,exec:function(e){void 0===n.axe._func&&(n.axe._func=r.tools.addFunction(n.axe.callback));var a={command:"run",editor:e.name,arguments:{context:n.axe.context,options:n.axe.run,callback:n.axe._func}};e.document.getWindow().$.postMessage(a)}})},axe:{context:void 0,run:{runOnly:{type:"tag",values:["wcag2a"]},rules:{"aria-hidden-body":{enabled:!1},bypass:{enabled:!1},"document-title":{enabled:!1},"frame-tested":{enabled:!1},"frame-title-unique":{enabled:!1},"frame-title":{enabled:!1},"html-has-lang":{enabled:!1},"html-lang-valid":{enabled:!1},"html-xml-lang-mismatch":{enabled:!1},"landmark-banner-is-top-level":{enabled:!1},"landmark-complementary-is-top-level":{enabled:!1},"landmark-contentinfo-is-top-level":{enabled:!1},"landmark-main-is-top-level":{enabled:!1},"landmark-no-duplicate-banner":{enabled:!1},"landmark-no-duplicate-contentinfo":{enabled:!1},"landmark-one-main":{enabled:!1},"meta-viewport-large":{enabled:!1},"meta-viewport":{enabled:!1},"page-has-heading-one":{enabled:!1},region:{enabled:!1},"valid-lang":{enabled:!1}}},callback:function(e,a,n){if(e)throw e;if(console.log(a),void 0===r.instances[n])return console.error("Can't find editor instance."),!1;var t=r.instances[n];if(void 0!==a.violations&&0<a.violations.length){var i="<p>"+a.violations[0].help+"</p>",o="<p>"+a.violations[0].description+"</p>",l=new r.ui.balloonPanel(t,{title:i,content:o}),c=new r.dom.element(t.document.$.getElementById("test_image"));l.attach(c)}return!0},path:void 0,_getPath:function(){if(void 0!==this._axePath)return this._axePath;this._axePath=null;var e=document.querySelectorAll("script[src$='/axe.js'],script[src$='/axe.min.js']");return e.length?this._axePath=e[0].src:console.error("Can't fin axe.js or axe.min.js file. Please check if they were included."),this._axePath}}})}(CKEDITOR);